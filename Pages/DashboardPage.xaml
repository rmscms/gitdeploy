<Page x:Class="GitDeployPro.Pages.DashboardPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:mah="http://metro.mahapps.com/winfx/xaml/controls"
      Title="DashboardPage"
      Background="#202020">
    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <StackPanel Margin="30">
            <!-- Header -->
            <StackPanel Orientation="Horizontal" Margin="0,0,0,25">
                <TextBlock Text="ðŸ“Š" FontSize="32" VerticalAlignment="Center" Margin="0,0,15,0" Foreground="White"/>
                <TextBlock Text="Dashboard" 
                          FontSize="28" 
                          FontWeight="Bold" 
                          Foreground="White"
                          VerticalAlignment="Center"/>
            </StackPanel>

            <!-- Project Info Card -->
            <Border Background="#2B2B2B"
                   CornerRadius="8" 
                   Padding="25" 
                   Margin="0,0,0,20">
                <StackPanel>
                    <StackPanel Orientation="Horizontal" Margin="0,0,0,15">
                        <TextBlock Text="ðŸ“" FontSize="20" VerticalAlignment="Center" Margin="0,0,10,0" Foreground="White"/>
                        <TextBlock Text="Project Information" 
                                  FontSize="18" 
                                  FontWeight="SemiBold" 
                                  Foreground="White"
                                  VerticalAlignment="Center"/>
                    </StackPanel>
                    <TextBlock x:Name="ProjectPathText" 
                              Text="Path: Loading..." 
                              FontSize="14" 
                              Foreground="#BBBBBB" 
                              Margin="0,5"/>
                    <TextBlock x:Name="CurrentBranchText" 
                              Text="Current Branch: master" 
                              FontSize="14" 
                              Foreground="#BBBBBB" 
                              Margin="0,5"/>
                    <Border x:Name="PushStatusBadge"
                            Background="#332C1B"
                            CornerRadius="6"
                            Padding="10"
                            Margin="0,10,0,0"
                            Visibility="Collapsed">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="â˜ï¸" FontSize="16" Margin="0,0,8,0" Foreground="#FFD54F"/>
                            <TextBlock x:Name="PushStatusText"
                                      Text="Push pending"
                                      FontSize="13"
                                      Foreground="#FFD54F"
                                      FontWeight="SemiBold"/>
                        </StackPanel>
                    </Border>
                </StackPanel>
            </Border>

            <!-- Stats Grid -->
            <Grid Margin="0,0,0,25">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="15"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="15"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <!-- Changed Files -->
                <Border Grid.Column="0" 
                       Background="#2B2B2B" 
                       CornerRadius="8" 
                       Padding="20">
                    <StackPanel>
                        <TextBlock Text="Changed Files" 
                                  FontSize="13" 
                                  HorizontalAlignment="Center" 
                                  Foreground="#AAAAAA"
                                  Margin="0,0,0,10"/>
                        <TextBlock x:Name="ChangedFilesCount" 
                                  Text="-" 
                                  FontSize="36" 
                                  FontWeight="Bold" 
                                  HorizontalAlignment="Center" 
                                  Foreground="#0078D4"/>
                    </StackPanel>
                </Border>

                <!-- Commits -->
                <Border Grid.Column="1" Grid.ColumnSpan="2" 
                       Background="#2B2B2B" 
                       CornerRadius="8" 
                       Padding="20">
                    <StackPanel>
                        <TextBlock Text="Total Commits" 
                                  FontSize="13" 
                                  HorizontalAlignment="Center" 
                                  Foreground="#AAAAAA"
                                  Margin="0,0,0,10"/>
                        <TextBlock x:Name="CommitsCount" 
                                  Text="-" 
                                  FontSize="36" 
                                  FontWeight="Bold" 
                                  HorizontalAlignment="Center" 
                                  Foreground="#00A86B"/>
                    </StackPanel>
                </Border>

                <!-- Last Deploy -->
                <Border Grid.Column="3" Grid.ColumnSpan="2" 
                       Background="#2B2B2B" 
                       CornerRadius="8" 
                       Padding="20">
                    <StackPanel>
                        <TextBlock Text="Last Deploy" 
                                  FontSize="13" 
                                  HorizontalAlignment="Center" 
                                  Foreground="#AAAAAA"
                                  Margin="0,0,0,10"/>
                        <TextBlock x:Name="LastDeployText" 
                                  Text="-" 
                                  FontSize="24" 
                                  FontWeight="Bold" 
                                  HorizontalAlignment="Center" 
                                  Foreground="#E0E0E0"
                                  VerticalAlignment="Bottom"
                                  Margin="0,8,0,0"/>
                    </StackPanel>
                </Border>
            </Grid>

            <!-- Quick Actions -->
            <TextBlock Text="Quick Actions" 
                      FontSize="18" 
                      FontWeight="SemiBold" 
                      Foreground="White"
                      Margin="0,0,0,15"/>
            
            <StackPanel Orientation="Horizontal">
                <Button Width="160" 
                       Height="45" 
                       Margin="0,0,12,0"
                       Background="#0078D4"
                       BorderThickness="0"
                       Cursor="Hand"
                       Click="QuickDeploy_Click">
                    <Button.Style>
                        <Style TargetType="Button">
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="Button">
                                        <Border x:Name="border" 
                                               Background="{TemplateBinding Background}" 
                                               CornerRadius="6">
                                            <StackPanel Orientation="Horizontal" 
                                                       VerticalAlignment="Center" 
                                                       HorizontalAlignment="Center">
                                                <TextBlock Text="ðŸš€" FontSize="16" VerticalAlignment="Center" Margin="0,0,8,0" Foreground="White"/>
                                                <TextBlock Text="Start Deploy" 
                                                          FontSize="13" 
                                                          FontWeight="SemiBold"
                                                          Foreground="White" 
                                                          VerticalAlignment="Center"/>
                                            </StackPanel>
                                        </Border>
                                        <ControlTemplate.Triggers>
                                            <Trigger Property="IsMouseOver" Value="True">
                                                <Setter TargetName="border" Property="Background" Value="#1084D8"/>
                                            </Trigger>
                                        </ControlTemplate.Triggers>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                        </Style>
                    </Button.Style>
                </Button>
                
                <Button Width="160" 
                       Height="45" 
                       Margin="0,0,12,0"
                       Background="#333333"
                       BorderThickness="0"
                       Cursor="Hand"
                       Click="RefreshGit_Click">
                    <Button.Style>
                        <Style TargetType="Button">
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="Button">
                                        <Border x:Name="border" 
                                               Background="{TemplateBinding Background}" 
                                               CornerRadius="6">
                                            <StackPanel Orientation="Horizontal" 
                                                       VerticalAlignment="Center" 
                                                       HorizontalAlignment="Center">
                                                <TextBlock Text="ðŸ”„" FontSize="16" VerticalAlignment="Center" Margin="0,0,8,0" Foreground="White"/>
                                                <TextBlock Text="Refresh Git" 
                                                          FontSize="13" 
                                                          FontWeight="SemiBold"
                                                          Foreground="White" 
                                                          VerticalAlignment="Center"/>
                                            </StackPanel>
                                        </Border>
                                        <ControlTemplate.Triggers>
                                            <Trigger Property="IsMouseOver" Value="True">
                                                <Setter TargetName="border" Property="Background" Value="#444444"/>
                                            </Trigger>
                                        </ControlTemplate.Triggers>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                        </Style>
                    </Button.Style>
                </Button>
                
                <Button Width="160" 
                       Height="45"
                       Margin="0,0,12,0"
                       Background="#333333"
                       BorderThickness="0"
                       Cursor="Hand"
                       Click="RunSetupWizard_Click">
                    <Button.Style>
                        <Style TargetType="Button">
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="Button">
                                        <Border x:Name="border" 
                                               Background="{TemplateBinding Background}" 
                                               CornerRadius="6">
                                            <StackPanel Orientation="Horizontal" 
                                                       VerticalAlignment="Center" 
                                                       HorizontalAlignment="Center">
                                                <TextBlock Text="ðŸ› " FontSize="16" VerticalAlignment="Center" Margin="0,0,8,0" Foreground="White"/>
                                                <TextBlock Text="Run Setup" 
                                                          FontSize="13" 
                                                          FontWeight="SemiBold"
                                                          Foreground="White" 
                                                          VerticalAlignment="Center"/>
                                            </StackPanel>
                                        </Border>
                                        <ControlTemplate.Triggers>
                                            <Trigger Property="IsMouseOver" Value="True">
                                                <Setter TargetName="border" Property="Background" Value="#444444"/>
                                            </Trigger>
                                        </ControlTemplate.Triggers>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                        </Style>
                    </Button.Style>
                </Button>

                <Button Width="160" 
                       Height="45"
                       Background="#333333"
                       BorderThickness="0"
                       Cursor="Hand"
                       Click="OpenSettings_Click">
                    <Button.Style>
                        <Style TargetType="Button">
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="Button">
                                        <Border x:Name="border" 
                                               Background="{TemplateBinding Background}" 
                                               CornerRadius="6">
                                            <StackPanel Orientation="Horizontal" 
                                                       VerticalAlignment="Center" 
                                                       HorizontalAlignment="Center">
                                                <TextBlock Text="âš™ï¸" FontSize="16" VerticalAlignment="Center" Margin="0,0,8,0" Foreground="White"/>
                                                <TextBlock Text="Settings" 
                                                          FontSize="13" 
                                                          FontWeight="SemiBold"
                                                          Foreground="White" 
                                                          VerticalAlignment="Center"/>
                                            </StackPanel>
                                        </Border>
                                        <ControlTemplate.Triggers>
                                            <Trigger Property="IsMouseOver" Value="True">
                                                <Setter TargetName="border" Property="Background" Value="#444444"/>
                                            </Trigger>
                                        </ControlTemplate.Triggers>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                        </Style>
                    </Button.Style>
                </Button>
            </StackPanel>

            <!-- Recent Activity -->
            <TextBlock Text="Recent Activity" 
                      FontSize="18" 
                      FontWeight="SemiBold" 
                      Foreground="White"
                      Margin="0,30,0,15"/>
            
            <Border Background="#2B2B2B" 
                   CornerRadius="8" 
                   Padding="20">
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                    <TextBlock Text="ðŸ“‹" FontSize="16" Margin="0,0,10,0"/>
                    <TextBlock Text="No recent activity found." 
                              FontSize="13" 
                              Foreground="#888888"/>
                </StackPanel>
            </Border>
        </StackPanel>
    </ScrollViewer>
</Page>
